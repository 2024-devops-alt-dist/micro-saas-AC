pre-commit:
  commands:
    # Backend
    backend-check:
      run: echo "ğŸš€ PrÃ©paration du commit backend en cours..."
    django-check:
      run: python manage.py check

    format-python:
      glob: "**/*.py"
      run: black {staged_files}
      stage_fixed: true

    # Frontend
    frontend-check:
      run: echo "ğŸš€ PrÃ©paration du commit frontend en cours..."
    lint-react:
      run: cd client && npm run lint

    build-check:
      run: cd client && npm run build

post-commit:
  commands:
    success:
      run: echo "âœ… Full-stack commit rÃ©ussi!"

# Hook qui s'exÃ©cute AVANT le push
pre-push:
  commands:
    # Tests backend Django
    test-backend:
      run: python manage.py test --keepdb

    # Tests frontend React
    test-frontend:
      run: cd client && npm run test:ci

    # Build frontend pour vÃ©rifier que Ã§a compile
    build-frontend:
      run: cd client && npm run build
