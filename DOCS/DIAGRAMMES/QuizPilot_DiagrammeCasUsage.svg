<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 780" width="900" height="780" font-family="Arial, sans-serif">

  <!-- Background -->
  <rect width="900" height="780" fill="#F8FAFC" rx="8"/>

  <!-- Title -->
  <text x="450" y="38" text-anchor="middle" font-size="18" font-weight="bold" fill="#1F3864">Diagramme de Cas d'Utilisation — QuizPilot</text>
  <line x1="100" y1="48" x2="800" y2="48" stroke="#2E75B6" stroke-width="1.5"/>

  <!-- ═══════════════════════════════════════════
       SYSTEM BOUNDARY
  ════════════════════════════════════════════ -->
  <rect x="230" y="65" width="480" height="660" rx="18" ry="18"
        fill="white" stroke="#1F3864" stroke-width="2" stroke-dasharray="none"/>
  <text x="470" y="88" text-anchor="middle" font-size="13" font-weight="bold" fill="#1F3864" letter-spacing="1">QuizPilot</text>

  <!-- ═══════════════════════════════════════════
       ZONE HEADERS inside boundary
  ════════════════════════════════════════════ -->

  <!-- Zone Invité -->
  <rect x="245" y="98" width="450" height="140" rx="8"
        fill="#EBF5FB" stroke="#AED6F1" stroke-width="1" stroke-dasharray="4,3"/>
  <text x="260" y="116" font-size="10" fill="#2E75B6" font-style="italic">« Accès non authentifié »</text>

  <!-- Zone Utilisateur -->
  <rect x="245" y="252" width="450" height="298" rx="8"
        fill="#EAFAF1" stroke="#A9DFBF" stroke-width="1" stroke-dasharray="4,3"/>
  <text x="260" y="270" font-size="10" fill="#1E8449" font-style="italic">« Accès authentifié »</text>

  <!-- Zone Admin -->
  <rect x="245" y="564" width="450" height="148" rx="8"
        fill="#FEF9E7" stroke="#F9E79F" stroke-width="1" stroke-dasharray="4,3"/>
  <text x="260" y="582" font-size="10" fill="#B7950B" font-style="italic">« Administration »</text>

  <!-- ═══════════════════════════════════════════
       USE CASES — INVITÉ ZONE
  ════════════════════════════════════════════ -->

  <!-- Consulter l'accueil -->
  <ellipse cx="400" cy="128" rx="90" ry="22" fill="white" stroke="#2E75B6" stroke-width="1.5"/>
  <text x="400" y="132" text-anchor="middle" font-size="11" fill="#1F3864">Consulter l'accueil</text>

  <!-- S'inscrire -->
  <ellipse cx="580" cy="128" rx="72" ry="22" fill="white" stroke="#2E75B6" stroke-width="1.5"/>
  <text x="580" y="132" text-anchor="middle" font-size="11" fill="#1F3864">S'inscrire</text>

  <!-- Se connecter -->
  <ellipse cx="490" cy="210" rx="80" ry="22" fill="white" stroke="#2E75B6" stroke-width="1.5"/>
  <text x="490" y="214" text-anchor="middle" font-size="11" fill="#1F3864">Se connecter</text>

  <!-- ═══════════════════════════════════════════
       USE CASES — UTILISATEUR ZONE
  ════════════════════════════════════════════ -->

  <!-- Générer un quiz (IA) -->
  <ellipse cx="430" cy="300" rx="105" ry="24" fill="white" stroke="#1E8449" stroke-width="1.5"/>
  <text x="430" y="297" text-anchor="middle" font-size="11" fill="#1F3864">Générer un quiz (IA)</text>
  <text x="430" y="311" text-anchor="middle" font-size="9" fill="#2E75B6" font-style="italic">upload document + n8n</text>

  <!-- Jouer un quiz -->
  <ellipse cx="430" cy="370" rx="95" ry="22" fill="white" stroke="#1E8449" stroke-width="1.5"/>
  <text x="430" y="374" text-anchor="middle" font-size="11" fill="#1F3864">Réaliser un quiz</text>

  <!-- Voir mes statistiques -->
  <ellipse cx="430" cy="436" rx="105" ry="22" fill="white" stroke="#1E8449" stroke-width="1.5"/>
  <text x="430" y="440" text-anchor="middle" font-size="11" fill="#1F3864">Consulter ses statistiques</text>

  <!-- Modifier mon profil -->
  <ellipse cx="430" cy="502" rx="95" ry="22" fill="white" stroke="#1E8449" stroke-width="1.5"/>
  <text x="430" y="506" text-anchor="middle" font-size="11" fill="#1F3864">Modifier son profil</text>

  <!-- Se déconnecter -->
  <ellipse cx="430" cy="532" rx="88" ry="18" fill="#F8F9FA" stroke="#1E8449" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="430" y="536" text-anchor="middle" font-size="10" fill="#555">Se déconnecter</text>

  <!-- ═══════════════════════════════════════════
       USE CASES — ADMIN ZONE
  ════════════════════════════════════════════ -->

  <!-- Gérer les utilisateurs -->
  <ellipse cx="390" cy="608" rx="105" ry="22" fill="white" stroke="#B7950B" stroke-width="1.5"/>
  <text x="390" y="612" text-anchor="middle" font-size="11" fill="#1F3864">Gérer les utilisateurs</text>

  <!-- Gérer les catégories -->
  <ellipse cx="560" cy="608" rx="100" ry="22" fill="white" stroke="#B7950B" stroke-width="1.5"/>
  <text x="560" y="612" text-anchor="middle" font-size="11" fill="#1F3864">Gérer les catégories</text>

  <!-- Voir stats globales -->
  <ellipse cx="470" cy="682" rx="110" ry="22" fill="white" stroke="#B7950B" stroke-width="1.5"/>
  <text x="470" y="679" text-anchor="middle" font-size="11" fill="#1F3864">Voir statistiques globales</text>
  <text x="470" y="693" text-anchor="middle" font-size="9" fill="#B7950B" font-style="italic">roadmap V2</text>

  <!-- ═══════════════════════════════════════════
       INCLUDE RELATIONS
  ════════════════════════════════════════════ -->

  <!-- Central "Être authentifié" node -->
  <ellipse cx="680" cy="410" rx="88" ry="22" fill="#EBF1FA" stroke="#1F3864" stroke-width="1.5" stroke-dasharray="5,3"/>
  <text x="680" y="407" text-anchor="middle" font-size="10" fill="#1F3864" font-style="italic">«include»</text>
  <text x="680" y="419" text-anchor="middle" font-size="10" fill="#1F3864">Être authentifié</text>

  <!-- include arrows: générer → être auth -->
  <line x1="535" y1="305" x2="635" y2="395" stroke="#1F3864" stroke-width="1" stroke-dasharray="5,3" marker-end="url(#arrowInclude)"/>
  <!-- include arrows: réaliser → être auth -->
  <line x1="525" y1="372" x2="636" y2="405" stroke="#1F3864" stroke-width="1" stroke-dasharray="5,3" marker-end="url(#arrowInclude)"/>
  <!-- include arrows: stats → être auth -->
  <line x1="535" y1="436" x2="636" y2="418" stroke="#1F3864" stroke-width="1" stroke-dasharray="5,3" marker-end="url(#arrowInclude)"/>
  <!-- include arrows: profil → être auth -->
  <line x1="525" y1="502" x2="636" y2="424" stroke="#1F3864" stroke-width="1" stroke-dasharray="5,3" marker-end="url(#arrowInclude)"/>

  <!-- ═══════════════════════════════════════════
       ACTORS
  ════════════════════════════════════════════ -->

  <!-- INVITÉ actor (left, top) -->
  <!-- Head -->
  <circle cx="95" cy="148" r="14" fill="white" stroke="#2E75B6" stroke-width="2"/>
  <!-- Body -->
  <line x1="95" y1="162" x2="95" y2="200" stroke="#2E75B6" stroke-width="2"/>
  <!-- Arms -->
  <line x1="70" y1="178" x2="120" y2="178" stroke="#2E75B6" stroke-width="2"/>
  <!-- Legs -->
  <line x1="95" y1="200" x2="75" y2="228" stroke="#2E75B6" stroke-width="2"/>
  <line x1="95" y1="200" x2="115" y2="228" stroke="#2E75B6" stroke-width="2"/>
  <text x="95" y="246" text-anchor="middle" font-size="12" font-weight="bold" fill="#2E75B6">Invité</text>
  <text x="95" y="260" text-anchor="middle" font-size="9" fill="#2E75B6" font-style="italic">(non authentifié)</text>

  <!-- UTILISATEUR actor (left, middle) -->
  <circle cx="95" cy="390" r="14" fill="white" stroke="#1E8449" stroke-width="2"/>
  <line x1="95" y1="404" x2="95" y2="442" stroke="#1E8449" stroke-width="2"/>
  <line x1="70" y1="420" x2="120" y2="420" stroke="#1E8449" stroke-width="2"/>
  <line x1="95" y1="442" x2="75" y2="470" stroke="#1E8449" stroke-width="2"/>
  <line x1="95" y1="442" x2="115" y2="470" stroke="#1E8449" stroke-width="2"/>
  <text x="95" y="488" text-anchor="middle" font-size="12" font-weight="bold" fill="#1E8449">Utilisateur</text>
  <text x="95" y="502" text-anchor="middle" font-size="9" fill="#1E8449" font-style="italic">(connecté)</text>

  <!-- ADMINISTRATEUR actor (left, bottom) -->
  <circle cx="95" cy="614" r="14" fill="white" stroke="#B7950B" stroke-width="2"/>
  <line x1="95" y1="628" x2="95" y2="666" stroke="#B7950B" stroke-width="2"/>
  <line x1="70" y1="644" x2="120" y2="644" stroke="#B7950B" stroke-width="2"/>
  <line x1="95" y1="666" x2="75" y2="694" stroke="#B7950B" stroke-width="2"/>
  <line x1="95" y1="666" x2="115" y2="694" stroke="#B7950B" stroke-width="2"/>
  <text x="95" y="712" text-anchor="middle" font-size="12" font-weight="bold" fill="#B7950B">Administrateur</text>
  <text x="95" y="726" text-anchor="middle" font-size="9" fill="#B7950B" font-style="italic">(roadmap V2)</text>

  <!-- ═══════════════════════════════════════════
       ASSOCIATION LINES — INVITÉ
  ════════════════════════════════════════════ -->
  <!-- Invité → Consulter accueil -->
  <line x1="109" y1="155" x2="308" y2="128" stroke="#2E75B6" stroke-width="1.4"/>
  <!-- Invité → S'inscrire -->
  <line x1="109" y1="158" x2="507" y2="128" stroke="#2E75B6" stroke-width="1.4"/>
  <!-- Invité → Se connecter -->
  <line x1="109" y1="162" x2="408" y2="208" stroke="#2E75B6" stroke-width="1.4"/>

  <!-- ═══════════════════════════════════════════
       ASSOCIATION LINES — UTILISATEUR
  ════════════════════════════════════════════ -->
  <!-- Utilisateur → Générer -->
  <line x1="109" y1="385" x2="325" y2="302" stroke="#1E8449" stroke-width="1.4"/>
  <!-- Utilisateur → Réaliser -->
  <line x1="109" y1="390" x2="335" y2="372" stroke="#1E8449" stroke-width="1.4"/>
  <!-- Utilisateur → Stats -->
  <line x1="109" y1="394" x2="325" y2="436" stroke="#1E8449" stroke-width="1.4"/>
  <!-- Utilisateur → Profil -->
  <line x1="109" y1="398" x2="335" y2="500" stroke="#1E8449" stroke-width="1.4"/>
  <!-- Utilisateur → Se déconnecter -->
  <line x1="109" y1="400" x2="342" y2="532" stroke="#1E8449" stroke-width="1" stroke-dasharray="3,2"/>

  <!-- ═══════════════════════════════════════════
       ASSOCIATION LINES — ADMIN
  ════════════════════════════════════════════ -->
  <!-- Admin → Gérer users -->
  <line x1="109" y1="610" x2="285" y2="608" stroke="#B7950B" stroke-width="1.4"/>
  <!-- Admin → Gérer catégories -->
  <line x1="109" y1="618" x2="460" y2="608" stroke="#B7950B" stroke-width="1.4"/>
  <!-- Admin → Stats globales -->
  <line x1="109" y1="622" x2="360" y2="682" stroke="#B7950B" stroke-width="1.4" stroke-dasharray="4,3"/>

  <!-- ═══════════════════════════════════════════
       LEGEND
  ════════════════════════════════════════════ -->
  <rect x="600" y="460" width="280" height="130" rx="6" fill="white" stroke="#CCCCCC" stroke-width="1"/>
  <text x="614" y="480" font-size="11" font-weight="bold" fill="#1F3864">Légende</text>
  <line x1="614" y1="490" x2="870" y2="490" stroke="#CCCCCC" stroke-width="0.8"/>

  <!-- Solid line = association -->
  <line x1="620" y1="508" x2="660" y2="508" stroke="#555" stroke-width="1.4"/>
  <text x="668" y="512" font-size="10" fill="#333">Association directe</text>

  <!-- Dashed line = include -->
  <line x1="620" y1="530" x2="660" y2="530" stroke="#1F3864" stroke-width="1" stroke-dasharray="5,3"/>
  <polygon points="660,526 668,530 660,534" fill="#1F3864"/>
  <text x="672" y="534" font-size="10" fill="#333">«include» obligatoire</text>

  <!-- Dashed line = optional -->
  <line x1="620" y1="552" x2="660" y2="552" stroke="#555" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="668" y="556" font-size="10" fill="#333">Optionnel / roadmap</text>

  <!-- Ellipse dashed = future -->
  <ellipse cx="636" cy="574" rx="16" ry="8" fill="#F8F9FA" stroke="#555" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="668" y="578" font-size="10" fill="#333">Cas d'usage futur (V2)</text>

  <!-- ═══════════════════════════════════════════
       ARROW MARKERS
  ════════════════════════════════════════════ -->
  <defs>
    <marker id="arrowInclude" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#1F3864"/>
    </marker>
  </defs>

</svg>
